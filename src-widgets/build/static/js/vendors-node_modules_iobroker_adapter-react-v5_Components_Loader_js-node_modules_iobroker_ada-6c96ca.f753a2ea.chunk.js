"use strict";(self.webpackChunkiobroker_zugspitze_widgets_next=self.webpackChunkiobroker_zugspitze_widgets_next||[]).push([["vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-6c96ca"],{35494:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const o={"text/plain":"Text","text/html":"Url",default:"Text"};t.default=function(e,t){let n,s,r,a,i=!1;const c=(t=t||{}).debug||!1;try{n=function(){const e=document.getSelection();if(!(null===e||void 0===e?void 0:e.rangeCount))return()=>{};let t=document.activeElement;const o=[];for(let n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));switch(null===t||void 0===t?void 0:t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),()=>{"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach((t=>e.addRange(t))),t&&t.focus()}}(),s=document.createRange(),r=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top="0px",a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",(n=>{var s,r,a,i;if(n.stopPropagation(),null===t||void 0===t?void 0:t.format)if(n.preventDefault(),"undefined"===typeof n.clipboardData){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),null===(s=window.clipboardData)||void 0===s||s.clearData();const n=o[t.format]||o.default;null===(r=window.clipboardData)||void 0===r||r.setData(n,e)}else null===(a=n.clipboardData)||void 0===a||a.clearData(),null===(i=n.clipboardData)||void 0===i||i.setData(t.format,e)})),document.body.appendChild(a),s.selectNodeContents(a),null===r||void 0===r||r.addRange(s);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");i=!0}catch(l){c&&console.error("unable to copy using execCommand: ",l),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),i=!0}catch(u){c&&console.error("unable to copy using clipboardData: ",u),c&&console.error("falling back to prompt");const o=function(e){const t="".concat(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl","+C");return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message||"":"Copy to clipboard: #{key}, Enter");window.prompt(o,e)}}finally{r&&(s&&"function"===typeof r.removeRange?r.removeRange(s):r.removeAllRanges()),a&&document.body.removeChild(a),n&&n()}return i}},95881:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var s=Object.getOwnPropertyDescriptor(t,o);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,s)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=r(o(28437));t.default=function(e){(0,a.useEffect)((()=>{if(!window.document.getElementById("loader-iobroker-component")){const e=window.document.createElement("style");e.setAttribute("id","loader-iobroker-component"),e.innerHTML="\n/**\n * Copyright 2018-2024 Denis Haev (bluefox) <dogafox@gmail.com>\n *\n * MIT License\n *\n **/\n\n.logo-background-light, .logo-background-colored {\n    background: white;\n}\n.logo-background-dark, .logo-background-blue {\n    background: black;\n}\n.logo-div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    overflow: hidden;\n    border-radius: 50%;\n    z-index: 2;\n}\n.logo-border {\n    /*border-color: #164477;*/\n    border-top-color: #3399CC;\n    border-left-color: #164477;\n    border-bottom-color: #164477;\n    border-right-color: #164477;\n    border-radius: 50%;\n    border-style: solid;\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n}\n.logo-top {\n    position: absolute;\n    width: 4.5%;\n    height: 16%;\n    top: 0;\n    z-index: 2;\n}\n.logo-i {\n    position: absolute;\n    width: 14.5%;\n    height: 60%;\n    top: 20%;\n    left: 42%;\n    background: #3399CC;\n}\n.logo-i-top {\n    position: absolute;\n    width: 14.5%;\n    height: 4%;\n    left: 42%;\n    background: #3399CC;\n    border-radius: 100%;\n}\n.logo-back {\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n    overflow: hidden;\n}\n@keyframes logo-grow {\n    0% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(1);\n        opacity: 1\n    }\n    99% {\n        width: 230px;\n        height: 230px;\n        transform: translate(-50%,-50%) scale(10);\n        opacity: 0;\n    }\n    100% {\n        width: 0;\n        height: 0;\n        opacity: 0;\n    }\n}\n@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }\n@keyframes logo-color-inside-light {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-dark {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-colored {\n    0% {\n        background: #FEFEFE;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n@keyframes logo-color-inside-blue {\n    0% {\n        background: #030303;\n    }\n    100% {\n        background: #3399CC;\n    }\n}\n\n@keyframes logo-color-outside-light {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-dark  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-colored {\n    0% {\n        border-color: #FEFEFE;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n@keyframes logo-color-outside-blue  {\n    0% {\n        border-color: #040404;\n    }\n    100% {\n        border-top-color: #3399CC;\n        border-left-color: #164477;\n        border-bottom-color: #164477;\n        border-right-color: #164477;\n    }\n}\n\n.logo-animate-wait {\n    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;\n}\n\n.logo-animate-grow-light {\n    background: #DDD;\n}\n.logo-animate-grow-dark {\n    background: #1d1d1d;\n}\n.logo-animate-grow-colored {\n    background: #DDD;\n}\n.logo-animate-grow-blue {\n    background: #1d1d1d;\n}\n\n.logo-animate-grow {\n    display: inline-block;\n    text-align: center;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    -ms-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    width: 245px;\n    height: 245px;\n    border-radius: 50%;\n    position: absolute;\n    animation: logo-grow 1s 1 ease forwards;\n}\n\n.logo-animate-color-inside-light {\n    animation: logo-color-inside-light 2.5s;\n}\n.logo-animate-color-inside-dark {\n    animation: logo-color-inside-dark 2.5s;\n}\n.logo-animate-color-inside-colored {\n    animation: logo-color-inside-colored 2.5s;\n}\n.logo-animate-color-inside-blue {\n    animation: logo-color-inside-blue 2.5s;\n}\n\n.logo-animate-color-outside-light {\n    animation: logo-color-outside-light 1.5s;\n}\n.logo-animate-color-outside-dark {\n    animation: logo-color-outside-dark 1.5s;\n}\n.logo-animate-color-outside-colored {\n    animation: logo-color-outside-colored 1.5s;\n}\n.logo-animate-color-outside-blue {\n    animation: logo-color-outside-blue 1.5s;\n}\n",window.document.head.appendChild(e)}}),[]);const t=e.size||234,o=e.themeName||e.theme||e.themeType||"light";return a.default.createElement("div",{className:"logo-back logo-background-".concat(o),style:{backgroundImage:e.backgroundImage&&"@@loginBackgroundImage@@"!==e.backgroundImage?e.backgroundImage:window.loadingBackgroundImage&&"@@loginBackgroundImage@@"!==window.loadingBackgroundImage?"url(".concat(window.loadingBackgroundImage,")"):void 0,backgroundColor:e.backgroundColor&&"@@loginBackgroundColor@@"!==e.backgroundColor?e.backgroundColor:window.loadingBackgroundColor&&"@@loginBackgroundColor@@"!==window.loadingBackgroundColor?window.loadingBackgroundColor:void 0,backgroundSize:"cover"}},"true"===window.loadingHideLogo?null:a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"logo-div",style:{width:t,height:t}},a.default.createElement("div",{className:"logo-top logo-background-".concat(o),style:{left:"37%"}}),a.default.createElement("div",{className:"logo-top logo-background-".concat(o),style:{left:"57%"}}),a.default.createElement("div",{className:"logo-border logo-background-".concat(o," logo-animate-wait"),style:{borderWidth:.132*t}}),a.default.createElement("div",{className:"logo-i logo-animate-color-inside-".concat(o)}),a.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-".concat(o),style:{top:"18%"}}),a.default.createElement("div",{className:"logo-i-top logo-animate-color-inside-".concat(o),style:{bottom:"18%"}})),a.default.createElement("div",{className:"logo-animate-grow logo-animate-grow-".concat(o),style:{width:t+11,height:t+11}})))}},70591:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(o(28437));class r extends s.default.Component{constructor(e){super(e),this.onHashChangedBound=this.onHashChanged.bind(this)}componentDidMount(){window.addEventListener("hashchange",this.onHashChangedBound)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChangedBound)}onHashChanged(){}static getLocation(){let e=window.location.hash;e=e.replace(/^#/,"");const t=e.split("/").map((e=>{try{return e?decodeURIComponent(e):""}catch(t){return console.error("Router: Cannot decode ".concat(e)),e||""}}));return{tab:t[0]||"",dialog:t[1]||"",id:t[2]||"",arg:t[3]||""}}static doNavigate(e,t,o,n){let s="";const a=r.getLocation();void 0===n||o||(o=a.id),o&&!t&&(t=a.dialog),(t&&!e||null===e)&&(e=a.tab),e&&(s="#".concat(e),t&&(s+="/".concat(t),o&&(s+="/".concat(o),void 0!==n&&(s+="/".concat(n))))),window.location.hash!==s&&(window.location.hash=s)}}t.default=r},29102:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(o(28437)),r=o(32719),a=o(67085),i=o(21839),c=n(o(12539));class l extends s.default.Component{constructor(e){super(e);const t=void 0===e.newReact||e.newReact;try{this.isIFrame=!t&&window.self!==window.top}catch(o){this.isIFrame=!t}}render(){const e=this.props.noTextOnButtons,t={borderRadius:this.props.theme.saveToolbar.button.borderRadius||3,height:this.props.theme.saveToolbar.button.height||32},o={bottom:this.isIFrame?38:0,left:this.props.paddingLeft||0,right:0,position:"absolute",background:this.props.theme.saveToolbar.background};return this.props.dense&&(o.minHeight=48),this.props.error&&(t.border="1px solid red"),s.default.createElement(a.Toolbar,{style:o},s.default.createElement(a.Fab,{variant:"extended","aria-label":"Save",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!1),style:t},s.default.createElement(i.Save,{className:e?"":this.props.classes.buttonIcon}),!e&&c.default.t("ra_Save")),s.default.createElement(a.Fab,{variant:"extended","aria-label":"Save and close",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!0),style:Object.assign(Object.assign({},t),{marginLeft:10})},s.default.createElement(i.Save,{className:e?"":this.props.classes.buttonIcon}),e?"+":c.default.t("ra_Save and close"),e&&s.default.createElement(i.Close,null)),s.default.createElement("div",{style:{flexGrow:1}}),s.default.createElement(a.Fab,{variant:"extended","aria-label":"Close",onClick:()=>this.props.onClose(),style:t},s.default.createElement(i.Close,{className:e?"":this.props.classes.buttonIcon}),!e&&c.default.t("ra_Close")))}}const u=(0,r.withStyles)((()=>({buttonIcon:{marginRight:8}})))(l);t.default=u},653:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(o(28437)),r=n(o(35494)),a=n(o(12539)),i="material",c=["Su","Mo","Tu","We","Th","Fr","Sa"],l=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},d={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"};class m{static CapitalWords(e){return(e||"").split(/[\s_]/).filter((e=>e)).map((e=>e?e[0].toUpperCase()+e.substring(1).toLowerCase():"")).join(" ")}static formatSeconds(e){const t=Math.floor(e/86400);e%=86400;const o=Math.floor(e/3600);e%=3600;const n=Math.floor(e/60);e%=60,e=Math.floor(e);let s="";return t&&(s+="".concat(t," ").concat(a.default.t("ra_daysShortText")," ")),s+="".concat(o<10?"0".concat(o):o,":").concat(n<10?"0".concat(n):n,":").concat(e<10?"0".concat(e):e),s}static getObjectName(e,t,o,n,s){const r=e[t];let a;const i=s?"desc":"name";if("string"!==typeof o||n||(n={language:o},o=null),(n=n||{}).language||(n.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),null===o||void 0===o?void 0:o.name)a=o.name,"object"===typeof a&&(a=n.language&&a[n.language]||a.en);else if(r&&r.common&&r.common[i])a=r.common[i],"desc"!==i&&!a&&r.common.desc&&(a=r.common.desc),"object"===typeof a&&(a=n.language&&a[n.language]||a.en||a.de||a.ru||""),a=(a||"").toString().replace(/[_.]/g," "),a===a.toUpperCase()&&(a=a[0]+a.substring(1).toLowerCase());else{const e=t.lastIndexOf(".");a=t.substring(e+1).replace(/[_.]/g," "),a=m.CapitalWords(a)}return a.trim()}static getObjectNameFromObj(e,t,o,n,s){const r=e;let a=e&&e._id||"";const i=n?"desc":"name";if("string"!==typeof t||o||(o={language:t},t=null),o=o||{},null===t||void 0===t?void 0:t.name){const e=t.name;a=e&&"object"===typeof e?o.language&&e[o.language]||e.en:e}else if((null===r||void 0===r?void 0:r.common)&&r.common[i]){let e=r.common[i];"desc"!==i&&!e&&r.common.desc&&(e=r.common.desc),a="object"===typeof e?o.language&&e[o.language]||e.en:e,a=(a||"").toString().replace(/[_.]/g," "),a===a.toUpperCase()&&(a=a[0]+a.substring(1).toLowerCase())}return s?a:a.trim()}static getSettingsOrder(e,t,o){let n,s;if(n=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,null===n||void 0===n?void 0:n.custom){s=n.custom[i];const e=o.user||"admin";if(s&&s[e])if(t){if(s[e].subOrder&&s[e].subOrder[t])return JSON.parse(JSON.stringify(s[e].subOrder[t]))}else if(s[e].order)return JSON.parse(JSON.stringify(s[e].order))}return null}static getSettingsCustomURLs(e,t,o){let n,s;if(n=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,null===n||void 0===n?void 0:n.custom){s=n.custom[i];const e=o.user||"admin";if(s&&s[e])if(t){if(s[e].subURLs&&s[e].subURLs[t])return JSON.parse(JSON.stringify(s[e].subURLs[t]))}else if(s[e].URLs)return JSON.parse(JSON.stringify(s[e].URLs))}return null}static reorder(e,t,o){const n=Array.from(e),[s]=n.splice(t,1);return n.splice(o,0,s),n}static getSettings(e,t,o){let n;const s=(null===e||void 0===e?void 0:e._id)||(null===t||void 0===t?void 0:t.id);let r;if(r=e&&Object.prototype.hasOwnProperty.call(e,"common")?e.common:e,(null===r||void 0===r?void 0:r.custom)?(n=r.custom,n=n[i]&&n[i][t.user||"admin"]?JSON.parse(JSON.stringify(n[i][t.user||"admin"])):{enabled:!0}):n={enabled:void 0===o||o,useCustom:!1},Object.prototype.hasOwnProperty.call(n,"enabled")||(n.enabled=void 0===o||o),t&&(!n.name&&t.name&&(n.name=t.name),!n.icon&&t.icon&&(n.icon=t.icon),!n.color&&t.color&&(n.color=t.color)),r&&(n.color=n.color||r.color,n.icon=n.icon||r.icon,n.name=n.name||r.name),"object"===typeof n.name&&(n.name=t.language&&n.name[t.language]||n.name.en,n.name=(n.name||"").toString().replace(/_/g," "),n.name===n.name.toUpperCase()&&(n.name=n.name[0]+n.name.substring(1).toLowerCase())),!n.name&&s){const e=s.lastIndexOf(".");n.name=s.substring(e+1).replace(/[_.]/g," "),n.name=(n.name||"").toString().replace(/_/g," "),n.name=m.CapitalWords(n.name)}return n}static setSettings(e,t,o){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[i]=e.common.custom[i]||{},e.common.custom[i][o.user||"admin"]=t;const n=e.common.custom[i][o.user||"admin"];return n.useCommon&&(void 0!==n.color&&(e.common.color=n.color,delete n.color),void 0!==n.icon&&(e.common.icon=n.icon,delete n.icon),void 0!==n.name&&("object"!==typeof e.common.name&&o.language?e.common.name={[o.language]:n.name}:"object"===typeof e.common.name&&o.language&&(e.common.name[o.language]=n.name),delete n.name)),!0}return!1}static getIcon(e,t){return e&&e.icon?e.icon.length<=2?s.default.createElement("span",{style:t||{}},e.icon):e.icon.startsWith("data:image")?s.default.createElement("img",{alt:e.name,src:e.icon,style:t||{}}):s.default.createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:t}):null}static getObjectIcon(e,t){if("object"===typeof e&&(e=null===(t=e)||void 0===t?void 0:t._id),t&&t.common&&t.common.icon){let o=t.common.icon;if("string"===typeof o&&o.length<=2)return o;if(o.startsWith("data:image"))return o;const n=e.split(".");return o="system"===n[0]?"adapter/".concat(n[2]).concat(o.startsWith("/")?"":"/").concat(o):"adapter/".concat(n[0]).concat(o.startsWith("/")?"":"/").concat(o),window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)||window.location.pathname.match(/material\/[.\d]+/)?o="../../".concat(o):window.location.pathname.match(/material\//)&&(o="../".concat(o)),o}return null}static splitCamelCase(e){return e?m.CapitalWords(e):""}static isUseBright(e,t){if(!e)return void 0===t||t;let o,n,s;(e=e.toString()).startsWith("#")&&(e=e.slice(1));const r=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(r&&4===r.length)o=parseInt(r[1],10),n=parseInt(r[2],10),s=parseInt(r[3],10);else{if(3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),8===e.length)e=e.substring(0,6);else if(6!==e.length)return!1;o=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),s=parseInt(e.slice(4,6),16)}return.299*o+.587*n+.114*s<=186}static getTimeString(e){if(e=parseFloat(e.toString()),Number.isNaN(e))return"--:--";const t=Math.floor(e/3600),o=Math.floor(e%3600/60),n=e%60;return t?"".concat(t,":").concat(o<10?"0".concat(o):o,":").concat(n<10?"0".concat(n):n):"".concat(o<10?"0".concat(o):o,":").concat(n<10?"0".concat(n):n)}static getWindDirection(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":"N"}static padding(e){return"string"===typeof e?e.length<2?"0".concat(e):e:e<10?"0".concat(e):e.toString()}static setDataFormat(e){e&&(m.dateFormat=e.toUpperCase().split(/[.-/]/),m.dateFormat.splice(m.dateFormat.indexOf("YYYY"),1))}static date2string(e){if("string"===typeof e){if(!(e=e.trim()))return"";if(e.match(/^[\w\s]+$/))return e;const t=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(t){const o=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)],n=o.find((e=>e>31));if(void 0!==n){o.splice(o.indexOf(n),1);const t=o.find((e=>e>12));t?(o.splice(o.indexOf(t),1),e=new Date(n,o[0]-1,t)):"M"===m.dateFormat[0][0]&&"D"===m.dateFormat[1][0]?(e=new Date(n,o[0]-1,o[1]),Math.abs(e.getTime()-Date.now())>864e6&&(e=new Date(n,o[1]-1,o[0]))):"D"===m.dateFormat[0][0]&&"M"===m.dateFormat[1][0]?(e=new Date(n,o[1]-1,o[0]),Math.abs(e.getTime()-Date.now())>864e6&&(e=new Date(n,o[0]-1,o[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e)}else e=new Date(e);let t=a.default.t("ra_dow_".concat(c[e.getDay()])).replace("ra_dow_","");return t+=". ".concat(e.getDate()," ").concat(a.default.t("ra_month_".concat(l[e.getMonth()])).replace("ra_month_","")),t}static renderTextWithA(e){let t=e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(t){const o=[];let n=1;do{const r=e.substring(0,t.index);if(e=e.substring((t.index||0)+t[0].length),r&&o.push(s.default.createElement("span",{key:"a".concat(n++)},r)),t[0].startsWith("<b>"))o.push(s.default.createElement("b",{key:"a".concat(n++)},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<i>"))o.push(s.default.createElement("i",{key:"a".concat(n++)},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<br"))o.push(s.default.createElement("br",{key:"a".concat(n++)}));else{const e=t[0].match(/href="([^"]+)"/)||t[0].match(/href='([^']+)'/),r=t[0].match(/target="([^"]+)"/)||t[0].match(/target='([^']+)'/),a=t[0].match(/rel="([^"]+)"/)||t[0].match(/rel='([^']+)'/),i=t[0].match(/>([^<]*)</);o.push(s.default.createElement("a",{key:"a".concat(n++),href:e?e[1]:"",target:r?r[1]:"_blank",rel:a?a[1]:"",style:{color:"inherit"}},i?i[1]:""))}t=e?e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/):null,t||e&&o.push(s.default.createElement("span",{key:"a".concat(n++)},e))}while(t);return o}return e}static getSmartName(e,t,o,n){var s,r;if(!t){if(!n)return e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName;if(e&&!e.common)return e.smartName;const t=e;return(null===(s=null===t||void 0===t?void 0:t.common)||void 0===s?void 0:s.custom)&&t.common.custom[o]?t.common.custom[o].smartName:void 0}if(!n)return e[t].common.smartName;const a=e[t];return(null===(r=null===a||void 0===a?void 0:a.common)||void 0===r?void 0:r.custom)&&a.common.custom[o]&&a.common.custom[o].smartName||null}static getSmartNameFromObj(e,t,o){var n;return o?e&&!e.common?e.smartName:(null===(n=null===e||void 0===e?void 0:e.common)||void 0===n?void 0:n.custom)&&e.common.custom[t]?e.common.custom[t].smartName:void 0:e.common?e&&!e.common?e.smartName:e.common.smartName:e.smartName}static enableSmartName(e,t,o){o?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName={}):e.common.smartName={}}static removeSmartName(e,t,o){o?e.common&&e.common.custom&&e.common.custom[t]&&(e.common.custom[t]=null):e.common.smartName=null}static updateSmartName(e,t,o,n,s,r){const i=a.default.getLanguage();if("string"===typeof e.common.smartName){const t=e.common.smartName;e.common.smartName={},e.common.smartName[i]=t}if(e.native&&e.native.byON){delete e.native.byON;let t=e.common.smartName;t?"object"!==typeof t&&(t={en:t},t[i]=t.en):t={},e.common.smartName=t}if(void 0!==n&&(r?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},n?e.common.custom[s].smartName.smartType=n:delete e.common.custom[s].smartName.smartType):(e.common.smartName=e.common.smartName||{},n?e.common.smartName.smartType=n:delete e.common.smartName.smartType)),void 0!==o&&(r?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},e.common.custom[s].smartName.byON=o):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=o)),void 0!==t){let o;if(r?(e.common.custom=e.common.custom||{},e.common.custom[s]=e.common.custom[s]||{},e.common.custom[s].smartName=e.common.custom[s].smartName||{},o=e.common.custom[s].smartName):(e.common.smartName=e.common.smartName||{},o=e.common.smartName),o[i]=t,o&&(!o[i]||o[i]===e.common.name&&(!e.common.role||e.common.role.includes("button")))){delete o[i];let t=!0;for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){t=!1;break}t&&(r&&e.common.custom&&e.common.custom[s]?void 0===e.common.custom[s].smartName.byON?delete e.common.custom[s]:(delete e.common.custom[s].en,delete e.common.custom[s].de,delete e.common.custom[s].ru,delete e.common.custom[s].nl,delete e.common.custom[s].pl,delete e.common.custom[s].it,delete e.common.custom[s].fr,delete e.common.custom[s].pt,delete e.common.custom[s].es,delete e.common.custom[s].uk,delete e.common.custom[s]["zh-cn"]):e.common.smartName&&void 0!==e.common.smartName.byON?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName.uk,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}static disableSmartName(e,t,o){o?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName=!1):e.common.smartName=!1}static copyToClipboard(e,t){return t&&(t.stopPropagation(),t.preventDefault()),(0,r.default)(e)}static getFileExtension(e){const t=(e||"").lastIndexOf(".");return-1!==t?e.substring(t+1).toLowerCase():null}static formatBytes(e){if(Math.abs(e)<1024)return"".concat(e," B");const t=["KB","MB","GB"];let o=-1;do{e/=1024,++o}while(Math.abs(e)>=1024&&o<t.length-1);return"".concat(e.toFixed(1)," ").concat(t[o])}static getInvertedColor(e,t,o){if(!e)return;const n=m.invertColor(e,!0);return"#FFFFFF"===n&&("dark"===t||o&&"light"===t)?"#DDD":"#000000"===n&&("light"===t||o&&"dark"===t)?"#222":void 0}static invertColor(e,t){if(void 0===e||null===e||""===e||"string"!==typeof e)return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let o=null;if(8===e.length)o=e.substring(6,8),e=e.substring(0,6);else if(6!==e.length)return console.warn("Cannot invert color: ".concat(e)),e;const n=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);if(t)return.299*n+.587*s+.114*r>186?"#000000".concat(o||""):"#FFFFFF".concat(o||"");const a=(255-n).toString(16),i=(255-s).toString(16),c=(255-r).toString(16);return"#".concat(a.padStart(2,"0")).concat(i.padStart(2,"0")).concat(c.padStart(2,"0")).concat(o||"")}static color2rgb(e){if(void 0===e||null===e||""===e||"string"!==typeof e)return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));return 3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length&&8!==e.length?(console.warn("Cannot invert color: ".concat(e)),!1):[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}static rgb2lab(e){let t=e[0]/255,o=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let s=(.4124*t+.3576*o+.1805*n)/.95047,r=.2126*t+.7152*o+.0722*n,a=(.0193*t+.1192*o+.9505*n)/1.08883;return s=s>.008856?s**.33333333:7.787*s+.137931,r=r>.008856?r**.33333333:7.787*r+.137931,a=a>.008856?a**.33333333:7.787*a+.137931,[116*r-16,500*(s-r),200*(r-a)]}static colorDistance(e,t){const o=m.color2rgb(e),n=m.color2rgb(t);if(!o||!n)return 0;const s=m.rgb2lab(o),r=m.rgb2lab(n),a=s[0]-r[0],i=s[1]-r[1],c=s[2]-r[2],l=Math.sqrt(s[1]*s[1]+s[2]*s[2]),u=l-Math.sqrt(r[1]*r[1]+r[2]*r[2]);let d=i*i+c*c-u*u;d=d<0?0:Math.sqrt(d);const h=u/(1+.045*l),p=d/(1+.015*l),g=a*a+h*h+p*p;return g<0?0:g}static _toVal(e){let t,o="";if("string"===typeof e||"number"===typeof e)o+=e;else if("object"===typeof e)if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]&&(t=m._toVal(e[n]),t&&(o&&(o+=" "),o+=t));else for(const n in e)e[n]&&(o&&(o+=" "),o+=n);return o}static clsx(){let e,t,o=0,n="";for(;o<arguments.length;){var s;e=(s=o++)<0||arguments.length<=s?void 0:arguments[s],e&&(t=m._toVal(e),t&&(n&&(n+=" "),n+=t))}return n}static getThemeName(e){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix?window.vendorPrefix:e||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(e){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix?"light":"dark"===(e=e||(window._localStorage||window.localStorage).getItem("App.themeName"))||"blue"===e?"dark":"light"}static setThemeName(e){window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme","dark"===e||"blue"===e?"dark":"light"))}static toggleTheme(e){if(window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix)return window.vendorPrefix;e=e||(window._localStorage||window.localStorage).getItem("App.themeName")||"light";const t=m.getThemeNames(),o=e?t.indexOf(e):-1;let n;return n=-1!==o?t[(o+1)%t.length]:t[0],m.setThemeName(n),n}static getThemeNames(){return window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix&&"MV"!==window.vendorPrefix?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(e){e=(e||"").toString().replace(/^\?/,"");const t={};return e.split("&").forEach((e=>{if(e=e.trim()){const o=e.split("="),n=decodeURIComponent(o[0]).trim();if(o.length>1){if(t[n]=decodeURIComponent(o[1]),"true"===t[n])t[n]=!0;else if("false"===t[n])t[n]=!1;else if(t[n]){const e=parseFloat(t[n].toString());e.toString()===t[n]&&(t[n]=e)}}else t[n]=!0}})),t}static getParentId(e){const t=(e||"").toString().split(".");return t.length>1?(t.pop(),t.join(".")):null}static formatDate(e,t){if(!e)return"";let o;const n=e.getMonth()+1,s=e.getDate();o="MM/DD/YYYY"===t?"".concat(n<10?"0".concat(n):n,"/").concat(s<10?"0".concat(s):s,"/").concat(e.getFullYear()):"".concat(e.getFullYear(),"-").concat(n,"-").concat(s);let r=e.getHours();return o+=r<10?" 0".concat(r):" ".concat(r),r=e.getMinutes(),o+=r<10?":0".concat(r):":".concat(r),r=e.getSeconds(),o+=r<10?":0".concat(r):":".concat(r),r=e.getMilliseconds(),o+=r<10?".00".concat(r):r<100?".0".concat(r):".".concat(r),o}static formatTime(e){if(e){e=Math.round(e);const t=Math.floor(e/86400),o=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),s=e%60;return t?"".concat(t,".").concat(o.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):o?"".concat(o,":").concat(n.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0")):"0:".concat(n.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))}return"0:00:00"}static MDtext2link(e){const t=e.match(/\d+\.\)\s/);return t&&(e=e.replace(t[0],t[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Z\u0430-\u044f\u0410-\u042f0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(e,t){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),"this"===t?window.location.href=e:window.open(e,t||"_blank")}static MDgetTitle(e){const t=m.MDextractHeader(e),o=t.header;let n=t.body;if(!o.title){n=n.replace(/{[^}]*}/g,""),n=n.trim();const e=n.replace(/\r/g,"").split("\n");for(let t=0;t<e.length;t++)if(e[t].startsWith("# "))return e[t].substring(2).trim();return""}return o.title?o.title.toString():""}static MDextractHeader(e){const t={};if("---"===e.substring(0,3)){const o=e.substring(3).indexOf("\n---");if(-1!==o){e.substring(3,o+3).replace(/\r/g,"").split("\n").forEach((e=>{if(!e.trim())return;const o=e.indexOf(":");if(-1!==o){const n=e.substring(0,o).trim();let s=e.substring(o+1).trim();s=s.replace(/^['"]|['"]$/g,""),"true"===s?t[n]=!0:"false"===s?t[n]=!1:parseFloat(s).toString()===s?t[n]=parseFloat(s):t[n]=s}else t[e.trim()]=!0})),e=e.substring(o+7)}}return{header:t,body:e}}static MDremoveDocsify(e){const t=e.match(/{docsify-[^}]*}/g);return t&&t.forEach((t=>e=e.replace(t,""))),e}static generateFile(e,t){const o=document.createElement("a");o.setAttribute("href","data:application/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(t,null,2)))),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}static quality2text(e){const t=4294901760&e,o=u[e];let n;return n=o?[o]:1&e?[u[1],"0x".concat((65534&e).toString(16))]:2&e?[u[2],"0x".concat((65533&e).toString(16))]:["0x".concat(e.toString(16))],t&&n.push("0x".concat((t>>16).toString(16).toUpperCase())),n}static clone(e){return JSON.parse(JSON.stringify(e))}static getStates(e){var t;let o=null===(t=null===e||void 0===e?void 0:e.common)||void 0===t?void 0:t.states;if(o)if("string"===typeof o&&"{"===o[0])try{o=JSON.parse(o)}catch(n){console.error("Cannot parse states: ".concat(o)),o=null}else if("string"===typeof o){const e=o.split(";");o={};for(let t=0;t<e.length;t++){const n=e[t].split(":");o[n[0]]=n[1]}}else if(Array.isArray(o)){const t={};return"number"===(null===e||void 0===e?void 0:e.common.type)?o.forEach(((e,o)=>t[o]=e)):"string"===(null===e||void 0===e?void 0:e.common.type)?o.forEach((e=>t[e]=e)):"boolean"===(null===e||void 0===e?void 0:e.common.type)&&(t.false=o[0],t.true=o[1]),t}return o||null}static async getSvg(e){const t=await fetch(e),o=await t.blob();return await new Promise((e=>{const t=new FileReader;t.onload=function(){var t;e((null===(t=this.result)||void 0===t?void 0:t.toString())||"")},t.readAsDataURL(o)}))}static detectMimeType(e){const t=Object.keys(d).find((t=>e.startsWith(t)));return t?d[t]:null}static isStableRepository(e){return!!("string"===typeof e&&e.toLowerCase().startsWith("stable")||e&&"string"!==typeof e&&e.find((e=>e.toLowerCase().startsWith("stable"))))}static isStringInteger(e){return parseInt(e).toString()===e}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}}m.namespace=i,m.INSTANCES="instances",m.dateFormat=["DD","MM"],m.FORBIDDEN_CHARS=/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu,t.default=m},27637:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var s=Object.getOwnPropertyDescriptor(t,o);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,s)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(28437)),c=o(32719),l=o(67085),u=o(21839),d=a(o(12539));class m extends i.Component{constructor(e){if(super(e),!this.props.dialogName&&this.props.suppressQuestionMinutes)throw new Error("dialogName required if suppressQuestionMinutes used");let t=!1;this.props.suppressQuestionMinutes&&(t=parseInt((window._localStorage||window.localStorage).getItem(this.props.dialogName),10)||0,t?Date.now()>t&&((window._localStorage||window.localStorage).removeItem(this.props.dialogName),t=!1):t=!1),this.state={suppress:t}}handleOk(){this.state.suppress&&(window._localStorage||window.localStorage).setItem(this.props.dialogName,Date.now()+6e4*(this.props.suppressQuestionMinutes||2)),this.props.onClose&&this.props.onClose(!0)}handleCancel(){this.props.onClose&&this.props.onClose(!1)}render(){return"number"===typeof this.state.suppress?(setTimeout((()=>this.props.onClose&&this.props.onClose(!0)),100),null):i.default.createElement(l.Dialog,{open:!0,maxWidth:"md",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:(e,t)=>{"backdropClick"!==t&&"escapeKeyDown"!==t&&this.handleCancel()},"aria-labelledby":"ar_confirmation_dialog_title","aria-describedby":"ar_confirmation_dialog_description"},i.default.createElement(l.DialogTitle,{id:"ar_confirmation_dialog_title"},this.props.title||d.default.t("ra_Are you sure?")),i.default.createElement(l.DialogContent,null,i.default.createElement(l.DialogContentText,{id:"ar_confirmation_dialog_description"},this.props.icon||null,this.props.text,this.props.suppressQuestionMinutes?i.default.createElement("br",null):null,this.props.suppressQuestionMinutes?i.default.createElement(l.FormControlLabel,{classes:{label:this.props.classes.suppress,root:this.props.classes.suppressRoot},control:i.default.createElement(l.Checkbox,{id:"ar_dialog_confirm_suppress_".concat(this.props.dialogName||""),checked:!!this.state.suppress,onChange:()=>this.setState({suppress:!this.state.suppress})}),label:this.props.suppressText||d.default.t("ra_Suppress question for next %s minutes",(this.props.suppressQuestionMinutes||2).toString())}):null)),i.default.createElement(l.DialogActions,null,i.default.createElement(l.Button,{id:"ar_dialog_confirm_ok_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:i.default.createElement(u.Check,null)},this.props.ok||d.default.t("ra_Ok")),i.default.createElement(l.Button,{id:"ar_dialog_confirm_cancel_".concat(this.props.dialogName||""),variant:"contained",onClick:()=>this.handleCancel(),color:"grey",startIcon:i.default.createElement(u.Close,null)},this.props.cancel||d.default.t("ra_Cancel"))))}}const h=(0,c.withStyles)({suppress:{fontSize:12},suppressRoot:{marginTop:16}})(m);t.default=h},99795:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var s=Object.getOwnPropertyDescriptor(t,o);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,s)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(o(28437)),c=o(67085),l=o(21839),u=a(o(12539));class d extends i.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return i.default.createElement(c.Dialog,{open:!0,maxWidth:"sm",fullWidth:void 0===this.props.fullWidth||this.props.fullWidth,onClose:()=>this.handleOk(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.default.createElement(c.DialogTitle,{id:"ar_alert_dialog_title"},this.props.title||u.default.t("ra_Error")),i.default.createElement(c.DialogContent,null,i.default.createElement(c.DialogContentText,{id:"ar_alert_dialog_description"},this.props.text||u.default.t("ra_Unknown error!"))),i.default.createElement(c.DialogActions,null,i.default.createElement(c.Button,{id:"ar_dialog_error_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:i.default.createElement(l.Check,null)},u.default.t("ra_Ok"))))}}t.default=d},73361:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){console.log("\n\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \n\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255d \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\n\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557 \u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\n\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2551  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\n\u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\n"),console.log("Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters"),console.log("Help us to create open source project with reactJS!"),console.log("See you :)")}},50086:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=o(17913),s=o(38529),r=11/23/100;function a(e){const t={r:0,g:0,b:0};if(7===e.length)t.r=parseInt(e.substr(1,2),16),t.g=parseInt(e.substr(3,2),16),t.b=parseInt(e.substr(5,2),16);else if(4===e.length){const o=e.substr(1,1),n=e.substr(2,1),s=e.substr(3,1);t.r=parseInt(o+o,16),t.g=parseInt(n+n,16),t.b=parseInt(s+s,16)}return t}function i(e,t,o){const n=a(e),s=a(t);return n.r+=s.r*(.05+r*(o-1)),n.g+=s.g*(.05+r*(o-1)),n.b+=s.b*(.05+r*(o-1)),i=n,"#".concat(Math.round(i.r).toString(16)).concat(Math.round(i.g).toString(16)).concat(Math.round(i.b).toString(16));var i}function c(e,t){const o={};for(let n=1;n<=24;n++)o["elevation".concat(n)]={backgroundColor:i(e,t,n)};return o}t.default=e=>{var t,o,r,a,i,l,u,d,m;let h;h="dark"===e?{name:e,palette:{mode:"dark",background:{paper:"#121212",default:"#121212"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#272727"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:s.orange[200],"&:hover":{color:s.orange[100]}}},MuiPaper:c("#121212","#fff")}}:"blue"===e?{name:e,palette:{mode:"dark",background:{paper:"#151d21",default:"#151d21"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#2a3135"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:s.orange[200],"&:hover":{color:s.orange[100]}}},MuiPaper:c("#151d21","#fff")}}:"colored"===e?{name:e,palette:{mode:"light",primary:{main:"#3399CC"},secondary:{main:"#164477"},expert:"#96fc96"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#3399CC"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:s.orange[400],"&:hover":{color:s.orange[300]}}}}}:"PT"===e?{name:e,palette:{mode:"light",primary:{main:"#0F99DE"},secondary:{main:"#88A536"},expert:"#BD1B24"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#0F99DE"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:s.orange[400],"&:hover":{color:s.orange[300]}}}}}:"DX"===e?{name:e,palette:{mode:"light",primary:{main:"#F5F5F7"},secondary:{main:"#a9a9a9"},expert:"#BD1B24",text:{primary:"#007AFE",secondary:"#007AFE",disabled:"#007AFEAA"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#a9a9a9"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:s.orange[400],"&:hover":{color:s.orange[300]}}}}}:{name:e,palette:{mode:"light",primary:{main:"#3399CC",light:void 0,dark:void 0,contrastText:void 0},secondary:{main:"#164477"},expert:"#14bb00"},overrides:{MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:s.orange[400],"&:hover":{color:s.orange[300]}}}}},h.toolbar={height:48},h.saveToolbar={background:null===(o=null===(t=h.palette)||void 0===t?void 0:t.primary)||void 0===o?void 0:o.main,button:{borderRadius:3,height:32}},h.palette&&(h.palette.grey={main:s.grey[300],dark:s.grey[400]});const p=(0,n.createTheme)(h),g=p.palette;return(0,n.createTheme)(p,{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:g.getContrastText&&g.grey&&g.grey[300]?g.getContrastText(g.grey[300]):void 0}},{props:{variant:"outlined",color:"grey"},style:{color:null===(r=g.text)||void 0===r?void 0:r.primary,borderColor:"light"===g.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:"1px solid ".concat(null===(a=g.action)||void 0===a?void 0:a.disabledBackground)},"&:hover":{borderColor:"light"===g.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:(0,n.alpha)((null===(i=g.text)||void 0===i?void 0:i.primary)||"",(null===(l=g.action)||void 0===l?void 0:l.hoverOpacity)||.04)}}},{props:{variant:"text",color:"grey"},style:{color:null===(u=g.text)||void 0===u?void 0:u.primary,"&:hover":{backgroundColor:(0,n.alpha)((null===(d=g.text)||void 0===d?void 0:d.primary)||"",(null===(m=g.action)||void 0===m?void 0:m.hoverOpacity)||.04)}}}]}}})}},12539:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class o{static setLanguage(e){e&&(o.lang=e)}static extendTranslations(e,t){if(e.prefix){const t=e;if("string"===typeof t.prefix){const o=t.prefix;delete t.prefix,Object.keys(t).forEach((n=>{const s=n,r={},a=t[s];Object.keys(a).forEach((e=>{e&&a&&(e.startsWith(o)?r[e]=a[e]:r["".concat(o).concat(e)]=a[e])})),e[s]=r}))}else console.warn("Found prefix in translations, but it is not a string")}try{if(t){o.translations[t]||console.warn("Used unknown language: ".concat(t)),o.translations[t]=o.translations[t]||{};const n=o.translations[t];n&&Object.keys(e).forEach((o=>{n[o]?n[o]!==e[o]&&console.warn('Translation for word "'.concat(o,'" in "').concat(t,'" was ignored: existing = "').concat(n[o],'", new = ').concat(e[o])):n[o]=e[o]}))}else e.en&&e.de&&e.ru?Object.keys(e).forEach((t=>{const n=t;o.translations[n]=o.translations[n]||{};const s=o.translations[n];Object.assign(s,e[n])})):Object.keys(e).forEach((t=>{const n=e[t];Object.keys(n).forEach((e=>{const s=e,r=o.translations[s];r?r[t]?r[t]!==n[s]&&console.warn('Translation for word "'.concat(t,'" in "').concat(s,'" was ignored: existing = "').concat(r[t],'", new = ').concat(n[s])):r[t]=n[s]:console.warn("Used unknown language: ".concat(s))}))}))}catch(n){console.error("Cannot apply translations: ".concat(n))}}static setTranslations(e){e&&(o.translations=e)}static getLanguage(){return o.lang}static t(e){const t=o.translations[o.lang];if(t){const n=t[e];if(n)e=n;else if(o.unknownTranslations.includes(e)||(o.unknownTranslations.push(e),!o._disableWarning&&console.log("Translate: ".concat(e))),"en"!==o.lang&&o.translations.en){const t=o.translations.en[e];t&&(e=t)}}for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];for(const o of s)e=e.replace("%s",o);return e}static i18nShow(e){const t={};e?"string"===typeof e?(o.unknownTranslations.forEach((o=>{o.startsWith(e)&&(t[o]=o.replace(e,""))})),console.log(JSON.stringify(t,null,2))):"object"===typeof e&&(o.unknownTranslations.forEach((o=>{e.test(o)&&(t[o]=o)})),console.log(JSON.stringify(t,null,2))):(o.unknownTranslations.forEach((e=>t[e]=e)),console.log(JSON.stringify(t,null,2)))}static disableWarning(e){o._disableWarning=!!e}}o.translations={},o.unknownTranslations=[],o.lang=window.sysLang||"en",o._disableWarning=!1,window.i18nShow=o.i18nShow,window.i18nDisableWarning=o.disableWarning,t.default=o},73171:(e,t,o)=>{var n,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var o in t)s(e,o,{get:t[o],enumerable:!0})})(c,{AdminConnection:()=>d}),e.exports=(n=c,((e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of a(t))i.call(e,c)||c===o||s(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var l=o(19594),u=o(57995);class d extends l.Connection{constructor(e){super(e)}request(e){return super.request({requireAdmin:!0,...e})}getCertificates(e){return this.request({cacheKey:"cert",forceUpdate:e,commandTimeout:!1,executor:async e=>{var t;const o=await this.getObject("system.certificates");(null===(t=null===o||void 0===o?void 0:o.native)||void 0===t?void 0:t.certificates)?e(Object.entries(o.native.certificates).map((e=>{let[t,o]=e;return function(e,t){if(!t)return;let o;if(t.length<700&&(-1!==t.indexOf("/")||-1!==t.indexOf("\\")))if(e.toLowerCase().includes("private"))o="private";else if(t.toLowerCase().includes("private"))o="private";else if(e.toLowerCase().includes("public"))o="public";else if(t.toLowerCase().includes("public"))o="public";else if(e.toLowerCase().includes("chain"))o="chained";else{if(!t.toLowerCase().includes("chain"))return;o="chained"}else o="-----BEGIN RSA PRIVATE KEY"===t.substring(0,26)||"-----BEGIN PRIVATE KEY"===t.substring(0,22)?"private":"public","public"===o&&t.split("-----END CERTIFICATE-----").filter((e=>e.replace(/\r\n|\r|\n/,"").trim())).length>1&&(o="chained");return{name:e,type:o}}(t,o)})).filter((e=>!!e))):e([])}})}getLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return this.request({commandTimeout:!1,executor:o=>{this._socket.emit("sendToHost",e,"getLogs",t||200,(e=>{o(e)}))}})}getLogsFiles(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("readLogs",e,((e,n)=>{e&&o(e),t(n)}))}})}delLogs(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("sendToHost",e,"delLogs",null,(e=>{e&&o(e),t()}))}})}deleteFile(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFile",e,t,(e=>{e&&n(e),o()}))}})}deleteFolder(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFolder",e,t,(e=>{e&&n(e),o()}))}})}rename(e,t,o){return this.request({commandTimeout:!1,executor:(n,s)=>{this._socket.emit("rename",e,t,o,(e=>{e&&s(e),n()}))}})}renameFile(e,t,o){return this.request({commandTimeout:!1,executor:(n,s)=>{this._socket.emit("renameFile",e,t,o,(e=>{e&&s(e),n()}))}})}getHosts(e){return this.request({cacheKey:"hosts",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},((o,n)=>{o?t(o):e((0,u.getObjectViewResultToArray)(n))}))}})}getUsers(e){return this.request({cacheKey:"users",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},((o,n)=>{o?t(o):e((0,u.getObjectViewResultToArray)(n))}))}})}renameGroup(e,t,o){return this.request({commandTimeout:!1,executor:async n=>{var s;const r=await this.getGroups(!0),a=r.filter((t=>t._id.startsWith("".concat(e,"."))));for(const o of a){const n=o._id,s=t+o._id.substring(e.length);o._id=s,await this.setObject(s,o),await this.delObject(n)}const i=r.find((t=>t._id===e));if(i){const e=i._id;i._id=t,void 0!==o&&(null!==(s=i.common)&&void 0!==s||(i.common={}),i.common.name=o),await this.setObject(t,i),await this.delObject(e)}n()}})}getHostInfo(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"hostInfo_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"getHostInfo",null,(e=>{n.elapsed||(n.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?o('May not read "getHostInfo"'):e?t(e):o('Cannot read "getHostInfo"'))}))}})}getHostInfoShort(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"hostInfoShort_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"getHostInfoShort",null,(e=>{n.elapsed||(n.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?o('May not read "getHostInfoShort"'):e?t(e):o('Cannot read "getHostInfoShort"'))}))}})}getRepository(e,t,o,n){return this.request({cacheKey:"repository_".concat(e),forceUpdate:o,commandTimeout:n,executor:(o,n,s)=>{this._socket.emit("sendToHost",e,"getRepository",t,(e=>{s.elapsed||(s.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?n('May not read "getRepository"'):e?o(e):n('Cannot read "getRepository"'))}))}})}getInstalled(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"installed_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"getInstalled",null,(e=>{n.elapsed||(n.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?o('May not read "getInstalled"'):e?t(e):o('Cannot read "getInstalled"'))}))}})}cmdExec(e,t,o,n){return this.request({commandTimeout:n,executor:(n,s,r)=>{e=(0,u.normalizeHostId)(e),this._socket.emit("cmdExec",e,o,t,(e=>{r.elapsed||(r.clearTimeout(),e&&s(e),n())}))}})}readBaseSettings(e){return e=(0,u.objectIdToHostname)(e),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"readBaseSettings",null,(e=>{n.elapsed||(n.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?o('May not read "BaseSettings"'):e?t(e):o('Cannot read "BaseSettings"'))}))}})}writeBaseSettings(e,t){return e=(0,u.objectIdToHostname)(e),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(o,n,s)=>{this._socket.emit("sendToHost",e,"writeBaseSettings",t,(e=>{s.elapsed||(s.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?n('May not write "BaseSettings"'):e?o(e):n('Cannot write "BaseSettings"'))}))}})}restartController(e){return e=(0,u.objectIdToHostname)(e),this.request({executor:(t,o,n)=>{this._socket.emit("sendToHost",e,"restartController",null,(e=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(!0))}))}})}getDiagData(e,t){return e=(0,u.objectIdToHostname)(e),this.request({executor:(o,n,s)=>{this._socket.emit("sendToHost",e,"getDiagData",t,(e=>{s.elapsed||(s.clearTimeout(),o(e))}))}})}changePassword(e,t){return this.request({executor:(o,n,s)=>{this._socket.emit("changePassword",e,t,(e=>{s.elapsed||(s.clearTimeout(),e&&n(e),o())}))}})}getIpAddresses(e,t){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"IPs_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{var o;const n=await this.getObject(e);t(null!==(o=null===n||void 0===n?void 0:n.common.address)&&void 0!==o?o:[])}})}getHostByIp(e,t){return e=(0,u.objectIdToHostname)(e),this.request({cacheKey:"rIPs_".concat(e),forceUpdate:t,executor:(t,o,n)=>{this._socket.emit("getHostByIp",e,((e,o)=>{if(n.elapsed)return;n.clearTimeout();const{IPs4:s,IPs6:r}=function(e){var t,o;const n=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],s=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(null===(o=null===(t=e.native)||void 0===t?void 0:t.hardware)||void 0===o?void 0:o.networkInterfaces)for(const[r,a]of Object.entries(e.native.hardware.networkInterfaces))if(a)for(const e of a)"IPv6"!==e.family?n.push({name:"[".concat(e.family,"] ").concat(e.address," - ").concat(r),address:e.address,family:"ipv4"}):s.push({name:"[".concat(e.family,"] ").concat(e.address," - ").concat(r),address:e.address,family:"ipv6"});return{IPs4:n,IPs6:s}}(o);t([...s,...r])}))}})}encrypt(e){return this.request({executor:(t,o,n)=>{this._socket.emit("encrypt",e,((e,s)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(s))}))}})}decrypt(e){return this.request({executor:(t,o,n)=>{this._socket.emit("decrypt",e,((e,s)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(s))}))}})}chmodFile(e,t,o){return this.request({executor:(n,s,r)=>{this._socket.emit("chmodFile",e,t,o,((e,t)=>{r.elapsed||(r.clearTimeout(),e&&s(e),n(t))}))}})}chownFile(e,t,o){return this.request({executor:(n,s,r)=>{this._socket.emit("chownFile",e,t,o,((e,t)=>{r.elapsed||(r.clearTimeout(),e&&s(e),n(t))}))}})}getNotifications(e,t){return this.request({executor:(o,n,s)=>{this._socket.emit("sendToHost",e,"getNotifications",{category:t},(e=>{s.elapsed||(s.clearTimeout(),o(e))}))}})}clearNotifications(e,t){return this.request({executor:(o,n,s)=>{this._socket.emit("sendToHost",e,"clearNotifications",{category:t},(e=>{s.elapsed||(s.clearTimeout(),o(e))}))}})}getIsEasyModeStrict(){return this.request({executor:(e,t,o)=>{this._socket.emit("getIsEasyModeStrict",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(!!s))}))}})}getEasyMode(){return this.request({executor:(e,t,o)=>{this._socket.emit("getEasyMode",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(s))}))}})}getRatings(e){return this.request({executor:(t,o,n)=>{this._socket.emit("getRatings",!!e,((e,s)=>{n.elapsed||(n.clearTimeout(),e&&o(e),t(s))}))}})}getCurrentSession(e){const t=new AbortController;return this.request({commandTimeout:e||5e3,onTimeout:()=>{t.abort()},executor:async(e,o,n)=>{try{const o=await fetch("./session",{signal:t.signal});if(n.elapsed)return;n.clearTimeout(),e(o.json())}catch(s){o("getCurrentSession: ".concat(s))}}})}getCurrentInstance(){return this.request({cacheKey:"currentInstance",executor:(e,t,o)=>{this._socket.emit("getCurrentInstance",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(s))}))}})}getAdapterInstances(e,t){let o;return"boolean"===typeof e?(t=e,o=""):o=e||"",this.request({cacheKey:"instances_".concat(o),forceUpdate:t,executor:(e,t,n)=>{this._socket.emit("getAdapterInstances",o,((o,s)=>{n.elapsed||(n.clearTimeout(),o&&t(o),e(s))}))}})}getAdapters(e,t){let o;return"boolean"===typeof e?(t=e,o=""):o=e||"",this.request({cacheKey:"adapter_".concat(o),forceUpdate:t,executor:(e,t,n)=>{this._socket.emit("getAdapters",o,((o,s)=>{n.elapsed||(n.clearTimeout(),o&&t(o),e(s))}))}})}getCompactAdapters(e){return this.request({cacheKey:"compactAdapters",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactAdapters",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(s))}))}})}getAdaptersResetCache(e){e=null!==e&&void 0!==e?e:"",this.resetCache("adapter_".concat(e)),this.resetCache("compactAdapters")}getCompactInstances(e){return this.request({cacheKey:"compactInstances",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactInstances",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(s))}))}})}getAdapterInstancesResetCache(e){e=null!==e&&void 0!==e?e:"",this.resetCache("instances_".concat(e)),this.resetCache("compactInstances")}getCompactInstalled(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"installedCompact_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("getCompactInstalled",e,(e=>{n.elapsed||(n.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?o('May not read "getCompactInstalled"'):e?t(e):o('Cannot read "getCompactInstalled"'))}))}})}getInstalledResetCache(e){e?(this.resetCache("installedCompact_".concat(e)),this.resetCache("installed_".concat(e))):(this.resetCache("installedCompact_",!0),this.resetCache("installed_",!0))}getCompactRepository(e,t,o){return e=(0,u.normalizeHostId)(e),this.request({cacheKey:"repositoryCompact_".concat(e),forceUpdate:t,commandTimeout:o,executor:(t,o,n)=>{this._socket.emit("getCompactRepository",e,(e=>{n.elapsed||(n.clearTimeout(),e===l.ERRORS.PERMISSION_ERROR?o('May not read "getCompactRepository"'):e?t(e):o('Cannot read "getCompactRepository"'))}))}})}getRepositoryResetCache(e){e?(this.resetCache("repositoryCompact_".concat(e)),this.resetCache("repository_".concat(e))):(this.resetCache("repositoryCompact_",!0),this.resetCache("repository_",!0))}getCompactHosts(e){return this.request({cacheKey:"hostsCompact",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactHosts",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(s))}))}})}getCompactSystemRepositories(e){return this.request({cacheKey:"repositoriesCompact",forceUpdate:e,executor:(e,t,o)=>{this._socket.emit("getCompactSystemRepositories",((n,s)=>{o.elapsed||(o.clearTimeout(),n&&t(n),e(s))}))}})}}},19594:(e,t,o)=>{var n,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,c={};((e,t)=>{for(var o in t)s(e,o,{get:t[o],enumerable:!0})})(c,{Connection:()=>y,ERRORS:()=>d,NOT_CONNECTED:()=>f,PERMISSION_ERROR:()=>g,PROGRESS:()=>l}),e.exports=(n=c,((e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of a(t))i.call(e,c)||c===o||s(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e})(s({},"__esModule",{value:!0}),n));var l,u,d,m,h=o(99072),p=o(57995);(u=l||(l={}))[u.CONNECTING=0]="CONNECTING",u[u.CONNECTED=1]="CONNECTED",u[u.OBJECTS_LOADED=2]="OBJECTS_LOADED",u[u.READY=3]="READY",(m=d||(d={})).PERMISSION_ERROR="permissionError",m.NOT_CONNECTED="notConnectedError",m.TIMEOUT="timeout",m.NOT_ADMIN="Allowed only in admin",m.NOT_SUPPORTED="Not supported";const g=d.PERMISSION_ERROR,f=d.NOT_CONNECTED,b=["material","echarts","vis"];class y{constructor(e){this.ignoreState="",this.connected=!1,this.subscribed=!1,this.firstConnect=!0,this.waitForRestart=!1,this.loaded=!1,this.simStates={},this.statesSubscribes={},this.filesSubscribes={},this.objectsSubscribes={},this.objects={},this.states={},this.acl=null,this.isSecure=!1,this.onReadyDone=!1,this.onConnectionHandlers=[],this.onLogHandlers=[],this._waitForFirstConnectionPromise=(0,h.createDeferredPromise)(),this._instanceSubscriptions={},this._promises={},this.systemLang="en",this.props=this.applyDefaultProps(e),this.waitForSocketLib().then((()=>this.startSocket())).catch((e=>{alert("Socket connection could not be initialized: ".concat(e))}))}applyDefaultProps(e){var t,o,n,s;return{...e,protocol:e.protocol||window.location.protocol,host:e.host||window.location.hostname,port:e.port||("3000"===window.location.port?8081:window.location.port),ioTimeout:Math.max(e.ioTimeout||2e4,2e4),cmdTimeout:Math.max(e.cmdTimeout||5e3,5e3),admin5only:e.admin5only||!1,autoSubscribes:null!==(t=e.autoSubscribes)&&void 0!==t?t:[],autoSubscribeLog:null!==(o=e.autoSubscribeLog)&&void 0!==o&&o,doNotLoadACL:null===(n=e.doNotLoadACL)||void 0===n||n,doNotLoadAllObjects:null===(s=e.doNotLoadAllObjects)||void 0===s||s}}onError(e){var t;(null!==(t=this.props.onError)&&void 0!==t?t:console.error)(e)}get systemConfig(){return this._systemConfig}static isWeb(){return void 0!==window.socketUrl}waitForSocketLib(){return this._waitForSocketPromise||(this._waitForSocketPromise=new Promise((async(e,t)=>{if("undefined"===typeof window.io)if("function"===typeof window.registerSocketOnLoad)window.registerSocketOnLoad((()=>e()));else{for(let t=1;t<=30;t++){if(window.io)return e();await(0,p.wait)(100)}t(new Error("Socket library could not be loaded!"))}else e()}))),this._waitForSocketPromise}async startSocket(){if(this._socket)return;let e=this.props.host,t=this.props.port,o=this.props.protocol.replace(":",""),n=window.location.pathname;if("iobroker.net"===window.location.hostname||"iobroker.pro"===window.location.hostname)n="";else{if(window.socketUrl){const n=new URL(window.socketUrl);e=n.hostname,t=n.port,o=n.protocol.replace(":","")}const s=n.lastIndexOf("/");if(-1!==s&&(n=n.substring(0,s+1)),y.isWeb()){const e=n.split("/");e.length>2&&(e.pop(),e.pop(),b.includes(e[e.length-1])&&e.pop(),n=e.join("/"),n.endsWith("/")||(n+="/"))}}const s=t?"".concat(o,"://").concat(e,":").concat(t):"".concat(o,"://").concat(e);this._socket=window.io.connect(s,{path:n.endsWith("/")?"".concat(n,"socket.io"):"".concat(n,"/socket.io"),query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid,token:this.props.token}),this._socket.on("connect",(e=>{this.onReadyDone=!1,!0!==e?(this.connected=!0,setTimeout((()=>this.getVersion().then((e=>{const[t,o,n]=e.version.split(".");1e4*parseInt(t,10)+100*parseInt(o,10)+parseInt(n,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",((e,t)=>this.onPreConnect(e,t)))})).catch((e=>this.onError({message:e.toString(),operation:"getVersion"})))),500)):this._socket.emit("authenticate",((e,t)=>{this.onPreConnect(e,t)}))})),this._socket.on("reconnect",(()=>{var e,t;this.onReadyDone=!1,null===(t=(e=this.props).onProgress)||void 0===t||t.call(e,l.READY),this.connected=!0,this.waitForRestart?window.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach((e=>e(!0))))})),this._socket.on("disconnect",(()=>{var e,t;this.onReadyDone=!1,this.connected=!1,this.subscribed=!1,null===(t=(e=this.props).onProgress)||void 0===t||t.call(e,l.CONNECTING),this.onConnectionHandlers.forEach((e=>e(!1)))})),this._socket.on("reauthenticate",(()=>this.authenticate())),this._socket.on("log",(e=>{var t,o;null===(o=(t=this.props).onLog)||void 0===o||o.call(t,e),this.onLogHandlers.forEach((t=>t(e)))})),this._socket.on("error",(e=>{let t;void 0==e?t="":"function"===typeof e.toString?t=e.toString():(t=JSON.stringify(e),console.error("Received strange error: ".concat(t))),t.includes("User not authorized")?this.authenticate():t.includes("websocket error")?(console.error("Socket Error => reload: ".concat(e)),window.location.reload()):console.error("Socket Error: ".concat(e))})),this._socket.on("connect_error",(e=>console.error("Connect error: ".concat(e)))),this._socket.on("permissionError",(e=>this.onError({message:"no permission",operation:e.operation,type:e.type,id:e.id||""}))),this._socket.on("objectChange",((e,t)=>{setTimeout((()=>this.objectChange(e,t)),0)})),this._socket.on("stateChange",((e,t)=>{setTimeout((()=>this.stateChange(e,t)),0)})),this._socket.on("im",((e,t,o)=>{setTimeout((()=>this.instanceMessage(e,t,o)),0)})),this._socket.on("fileChange",((e,t,o)=>{setTimeout((()=>this.fileChange(e,t,o)),0)})),this._socket.on("cmdStdout",((e,t)=>{var o;null===(o=this.onCmdStdoutHandler)||void 0===o||o.call(this,e,t)})),this._socket.on("cmdStderr",((e,t)=>{var o;null===(o=this.onCmdStderrHandler)||void 0===o||o.call(this,e,t)})),this._socket.on("cmdExit",((e,t)=>{var o;null===(o=this.onCmdExitHandler)||void 0===o||o.call(this,e,t)}))}onPreConnect(e,t){var o,n;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=t,this.waitForRestart?window.location.reload():(this.firstConnect?this.loadData():null===(n=(o=this.props).onProgress)||void 0===n||n.call(o,l.READY),this._subscribe(!0),this.onConnectionHandlers.forEach((e=>e(!0)))),this._waitForFirstConnectionPromise.resolve()}static isCloud(){return!(!window.location.hostname.includes("amazonaws.com")&&!window.location.hostname.includes("iobroker.in"))||"undefined"!==typeof window.socketUrl&&(window.socketUrl.includes("iobroker.in")||window.socketUrl.includes("amazonaws"))}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnectionPromise}async getUserPermissions(){return this.request({commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getUserPermissions",((o,n)=>{o?t(o):e(n)}))}})}async loadData(){if(this.loaded)return;for(let e=1;e<=10;e++){if(this.doLoadData(),this.loaded)return;await(0,p.wait)(y.isCloud()?5e3:1e3)}}async doLoadData(){var e,t,o,n,s,r,a,i,c;if(!this.loaded){if(!this.props.doNotLoadACL)try{this.acl=await this.getUserPermissions()}catch(u){return void this.onError("Cannot read user permissions: ".concat(u))}try{!this.props.admin5only||y.isWeb()||window.vendorPrefix&&"@@vendorPrefix@@"!==window.vendorPrefix?this._systemConfig=await this.getSystemConfig():this._systemConfig=await this.getCompactSystemConfig()}catch(u){return void this.onError("Cannot read system config: ".concat(u))}this.systemLang=null===(e=this._systemConfig.common)||void 0===e?void 0:e.language,this.systemLang||(this.systemLang=window.navigator.userLanguage||window.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substr(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en"),this._systemConfig.common.language=this.systemLang),null===(o=(t=this.props).onLanguage)||void 0===o||o.call(t,this.systemLang),this.loaded=!0,null===(s=(n=this.props).onProgress)||void 0===s||s.call(n,l.CONNECTED),this.firstConnect=!1,this.props.doNotLoadAllObjects?this.props.admin5only?this.objects={}:this.objects={"system.config":this._systemConfig}:this.objects=await this.getObjects(),null===(a=(r=this.props).onProgress)||void 0===a||a.call(r,l.READY),this.onReadyDone||(this.onReadyDone=!0,null===(c=(i=this.props).onReady)||void 0===c||c.call(i,this.objects))}}authenticate(){window.location.search.includes("&href=")?window.location.href="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname).concat(window.location.search).concat(window.location.hash):window.location.href="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?login&href=").concat(window.location.search).concat(window.location.hash)}async subscribeState(){let e,t,o,n;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];if(3===r.length?[e,t,o]=r:([e,o]=r,t=!1),n=Array.isArray(e)?e:[e],"function"!==typeof o)throw new Error("The state change handler must be a function!");const i=[];for(let l=0;l<n.length;l++){const t=n[l];this.statesSubscribes[t]?!this.statesSubscribes[t].cbs.includes(o)&&this.statesSubscribes[t].cbs.push(o):(this.statesSubscribes[t]={reg:new RegExp((0,p.pattern2RegEx)(t)),cbs:[o]},e!==this.ignoreState&&i.push(t))}if(this.connected)if(i.length&&this._socket.emit("subscribe",i),t){let e;for(let t=0;t<n.length;t++){try{e=await this.getBinaryState(n[t])}catch(c){console.error('Cannot getBinaryState "'.concat(n[t],'": ').concat(JSON.stringify(c)))}void 0!=e&&o(n[t],e)}}else if(n.find((e=>e.includes("*")))){let e;for(let t=0;t<n.length;t++){try{e=await this.getForeignStates(n[t])}catch(c){return void console.error('Cannot getForeignStates "'.concat(n[t],'": ').concat(JSON.stringify(c)))}if(e)for(const[t,n]of Object.entries(e))o(t,n)}}else try{const e=await(y.isWeb()?this.getStates(n):this.getForeignStates(n));if(e)for(const[t,n]of Object.entries(e))o(t,n)}catch(c){return void console.error('Cannot getState "'.concat(n.join(", "),'": ').concat(c.message))}}async subscribeStateAsync(e,t){return this.subscribeState(e,t)}unsubscribeState(e,t){var o;let n;n=Array.isArray(e)?e:[e];const s=[];for(let r=0;r<n.length;r++){const e=n[r];if(this.statesSubscribes[e]){const n=this.statesSubscribes[e];if(t){const e=n.cbs.indexOf(t);-1!==e&&n.cbs.splice(e,1)}else n.cbs=[];(null===(o=n.cbs)||void 0===o?void 0:o.length)||(delete this.statesSubscribes[e],e!==this.ignoreState&&s.push(e))}}this.connected&&s.length&&this._socket.emit("unsubscribe",n)}subscribeObject(e,t){let o;if(o=Array.isArray(e)?e:[e],"function"!==typeof t)throw new Error("The object change handler must be a function!");const n=[];for(let s=0;s<o.length;s++){const e=o[s];this.objectsSubscribes[e]?!this.objectsSubscribes[e].cbs.includes(t)&&this.objectsSubscribes[e].cbs.push(t):(this.objectsSubscribes[e]={reg:new RegExp((0,p.pattern2RegEx)(e)),cbs:[t]},n.push(e))}return this.connected&&n.length&&this._socket.emit("subscribeObjects",n),Promise.resolve()}unsubscribeObject(e,t){var o;let n;n=Array.isArray(e)?e:[e];const s=[];for(let r=0;r<n.length;r++){const e=n[r];if(this.objectsSubscribes[e]){const n=this.objectsSubscribes[e];if(t){const e=n.cbs.indexOf(t);-1!==e&&n.cbs.splice(e,1)}else n.cbs=[];(null===(o=n.cbs)||void 0===o?void 0:o.length)||(delete this.objectsSubscribes[e],s.push(e))}}return this.connected&&s.length&&this._socket.emit("unsubscribeObjects",s),Promise.resolve()}objectChange(e,t){var o,n;let s;this.objects[e]&&(s={_id:e,type:this.objects[e].type});let r=!1;t?(t._rev&&this.objects[e]&&(this.objects[e]._rev=t._rev),this.objects[e]&&JSON.stringify(this.objects[e])===JSON.stringify(t)||(this.objects[e]=t,r=!0)):this.objects[e]&&(delete this.objects[e],r=!0);for(const[a,i]of Object.entries(this.objectsSubscribes))(a===e||i.reg.test(e))&&i.cbs.forEach((o=>{try{o(e,t,s)}catch(n){console.error("Error by callback of objectChange: ".concat(n))}}));r&&(null===(n=(o=this.props).onObjectChange)||void 0===n||n.call(o,e,t))}stateChange(e,t){for(const n of Object.values(this.statesSubscribes))if(n.reg.test(e))for(const s of n.cbs)try{s(e,null!==t&&void 0!==t?t:null)}catch(o){console.error("Error by callback of stateChanged: ".concat(o))}}instanceMessage(e,t,o){var n;null===(n=this._instanceSubscriptions[t])||void 0===n||n.forEach((n=>{n.messageType===e&&n.callback(o,t,e)}))}fileChange(e,t,o){for(const s of Object.values(this.filesSubscribes))if(s.regId.test(e)&&s.regFilePattern.test(t))for(const r of s.cbs)try{r(e,t,o)}catch(n){console.error("Error by callback of fileChange: ".concat(n))}}async subscribeFiles(e,t,o){if("function"!==typeof o)throw new Error("The state change handler must be a function!");let n;n=Array.isArray(t)?t:[t];const s=[];for(let r=0;r<n.length;r++){const t=n[r],a="".concat(e,"$%$").concat(t);this.filesSubscribes[a]?!this.filesSubscribes[a].cbs.includes(o)&&this.filesSubscribes[a].cbs.push(o):(this.filesSubscribes[a]={regId:new RegExp((0,p.pattern2RegEx)(e)),regFilePattern:new RegExp((0,p.pattern2RegEx)(t)),cbs:[o]},s.push(t))}this.connected&&s.length&&this._socket.emit("subscribeFiles",e,s)}unsubscribeFiles(e,t,o){var n;let s;s=Array.isArray(t)?t:[t];const r=[];for(let a=0;a<s.length;a++){const t=s[a],i="".concat(e,"$%$").concat(t);if(this.filesSubscribes[i]){const e=this.filesSubscribes[i];if(o){const t=e.cbs.indexOf(o);-1!==t&&e.cbs.splice(t,1)}else e.cbs=[];(null===(n=e.cbs)||void 0===n?void 0:n.length)||(delete this.filesSubscribes[i],r.push(t))}}this.connected&&r.length&&this._socket.emit("unsubscribeFiles",e,r)}async request(e){let{cacheKey:t,forceUpdate:o,commandTimeout:n,onTimeout:s,requireAdmin:r,requireFeatures:a,executor:i}=e;if(r&&y.isWeb())return Promise.reject(d.NOT_ADMIN);if(t&&!o&&t in this._promises)return this._promises[t];if(!this.connected)return Promise.reject(d.NOT_CONNECTED);if(null===a||void 0===a?void 0:a.length)for(const l of a)if(!await this.checkFeatureSupported(l))throw d.NOT_SUPPORTED;const c=new Promise((async(e,t)=>{const o={elapsed:!1,clearTimeout:()=>{}};let r;!1!==n&&(r=setTimeout((()=>{o.elapsed=!0,null===s||void 0===s||s(),t(d.TIMEOUT)}),null!==n&&void 0!==n?n:this.props.cmdTimeout),o.clearTimeout=()=>{clearTimeout(r)});try{await i(e,t,o)}catch(a){t(a)}}));return t&&(this._promises[t]=c),c}resetCache(e,t){t?Object.keys(this._promises).filter((t=>t.startsWith(e))).forEach((e=>{delete this._promises[e]})):delete this._promises[e]}getStates(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getStates",e,((e,n)=>{this.states=null!==n&&void 0!==n?n:{},e?o(e):t(this.states)}))}})}getState(e){return this.request({commandTimeout:!1,executor:(t,o)=>{e&&e===this.ignoreState?t(this.simStates[e]||{val:null,ack:!0}):this._socket.emit("getState",e,((e,n)=>{e?o(e):t(n)}))}})}getBinaryState(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getBinaryState",e,((e,n)=>{e?o(e):t(n)}))}})}setBinaryState(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("setBinaryState",e,t,(e=>{e?n(e):o()}))}})}setState(e,t,o){return"boolean"===typeof o&&(t={val:t,ack:o}),this.request({commandTimeout:!1,executor:(n,s)=>{if(e&&e===this.ignoreState){let s;if(s="boolean"===typeof o||"object"===typeof t&&void 0!==t.val?t:{val:t,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[e]=s,this.statesSubscribes[e])for(const t of this.statesSubscribes[e].cbs)try{t(e,s)}catch(r){console.error("Error by callback of stateChanged: ".concat(r))}n()}else this._socket.emit("setState",e,t,(e=>{e?s(e):n()}))}})}getObjects(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{e||!this.objects?this._socket.emit(y.isWeb()?"getObjects":"getAllObjects",((e,s)=>{var r,a;t||null===(a=(r=this.props).onProgress)||void 0===a||a.call(r,l.OBJECTS_LOADED),e?n(e):(this.objects=null!==s&&void 0!==s?s:{},o(this.objects))})):o(this.objects)}})}getObjectsById(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getObjects",e,((e,n)=>{e?o(e):t(n)}))}})}_subscribe(e){var t,o;if(e&&!this.subscribed){this.subscribed=!0,(null===(t=this.props.autoSubscribes)||void 0===t?void 0:t.length)&&this._socket.emit("subscribeObjects",this.props.autoSubscribes);const e=Object.keys(this.objectsSubscribes);e.length&&this._socket.emit("subscribeObjects",e),Object.keys(this.objectsSubscribes).forEach((e=>this._socket.emit("subscribeObjects",e))),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach((e=>this._socket.emit("subscribe",e))),Object.keys(this.filesSubscribes).forEach((e=>{const[t,o]=e.split("$%$");this._socket.emit("subscribeFiles",t,o)}))}else if(!e&&this.subscribed){this.subscribed=!1,(null===(o=this.props.autoSubscribes)||void 0===o?void 0:o.length)&&this._socket.emit("unsubscribeObjects",this.props.autoSubscribes);const e=Object.keys(this.objectsSubscribes);e.length&&this._socket.emit("unsubscribeObjects",e),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach((e=>this._socket.emit("unsubscribe",e))),Object.keys(this.filesSubscribes).forEach((e=>{const[t,o]=e.split("$%$");this._socket.emit("unsubscribeFiles",t,o)}))}}requireLog(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("requireLog",e,(e=>{e?o(e):t()}))}})}delObject(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("delObject",e,{maintenance:t},(e=>{e?n(e):o()}))}})}delObjects(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("delObjects",e,{maintenance:t},(e=>{e?n(e):o()}))}})}setObject(e,t){return t?(delete(t=JSON.parse(JSON.stringify(t))).from,delete t.user,delete t.ts,this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("setObject",e,t,(e=>{e?n(e):o()}))}})):Promise.reject("Null object is not allowed")}getObject(e){return this.request({commandTimeout:!1,executor:(t,o)=>{e&&e===this.ignoreState?t({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed"}}):this._socket.emit("getObject",e,((e,n)=>{e?o(e):t(n)}))}})}sendTo(e,t,o){return this.request({commandTimeout:!1,executor:n=>{this._socket.emit("sendTo",e,t,o,(e=>{n(e)}))}})}extendObject(e,t){return t?(delete(t=JSON.parse(JSON.stringify(t))).from,delete t.user,delete t.ts,this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("extendObject",e,t,(e=>{e?n(e):o()}))}})):Promise.reject("Null object is not allowed")}registerLogHandler(e){this.onLogHandlers.includes(e)||this.onLogHandlers.push(e)}unregisterLogHandler(e){const t=this.onLogHandlers.indexOf(e);-1!==t&&this.onLogHandlers.splice(t,1)}registerConnectionHandler(e){this.onConnectionHandlers.includes(e)||this.onConnectionHandlers.push(e)}unregisterConnectionHandler(e){const t=this.onConnectionHandlers.indexOf(e);-1!==t&&this.onConnectionHandlers.splice(t,1)}registerCmdStdoutHandler(e){this.onCmdStdoutHandler=e}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(e){this.onCmdStderrHandler=e}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(e){this.onCmdExitHandler=e}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(e,t){return this.request({cacheKey:"enums_".concat(e||"all"),forceUpdate:t,commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getObjectView","system","enum",{startkey:"enum.".concat(e||""),endkey:e?"enum.".concat(e,".\u9999"):"enum.\u9999"},((n,s)=>{if(n)o(n);else{const o={};if(s)for(let t=0;t<s.rows.length;t++)e&&s.rows[t].id==="enum.".concat(e)||(o[s.rows[t].id]=s.rows[t].value);t(o)}}))}})}getObjectView(e,t,o){return this.getObjectViewCustom("system",o,e,t)}getObjectViewSystem(e,t,o){return this.getObjectViewCustom("system",e,t,o)}getObjectViewCustom(e,t,o,n){return this.request({commandTimeout:!1,executor:(s,r)=>{o=o||"",n=n||"\u9999",this._socket.emit("getObjectView",e,t,{startkey:o,endkey:n},((e,t)=>{if(e)r(e);else{const e={};if(t&&t.rows)for(let o=0;o<t.rows.length;o++)e[t.rows[o].id]=t.rows[o].value;s(e)}}))}})}readMetaItems(){return this.request({commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},((o,n)=>{var s;o?t(o):e(null===(s=n.rows)||void 0===s?void 0:s.map((e=>e.value)).filter((e=>!!e)))}))}})}readDir(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("readDir",e,t,((e,t)=>{e?n(e):o(t)}))}})}readFile(e,t,o){return this.request({commandTimeout:!1,executor:(n,s)=>{this._socket.emit(o?"readFile64":"readFile",e,t,((e,t,o)=>{e?s(e):n({file:t,mimeType:o})}))}})}writeFile64(e,t,o){return this.request({commandTimeout:!1,executor:(n,s)=>{if("string"===typeof o)this._socket.emit("writeFile",e,t,o,(e=>{e?s(e):n()}));else{const r=btoa(new Uint8Array(o).reduce(((e,t)=>e+String.fromCharCode(t)),""));this._socket.emit("writeFile64",e,t,r,(e=>{e?s(e):n()}))}}})}deleteFile(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFile",e,t,(e=>{e?n(e):o()}))}})}deleteFolder(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("deleteFolder",e,t,(e=>{e?n(e):o()}))}})}rename(e,t,o){return this.request({commandTimeout:!1,executor:(n,s)=>{this._socket.emit("rename",e,t,o,(e=>{e?s(e):n()}))}})}renameFile(e,t,o){return this.request({commandTimeout:!1,executor:(n,s)=>{this._socket.emit("renameFile",e,t,o,(e=>{e?s(e):n()}))}})}cmdExec(e,t,o,n){return this.request({commandTimeout:n,executor:(n,s,r)=>{e=(0,p.normalizeHostId)(e),this._socket.emit("cmdExec",e,o,t,(e=>{r.elapsed||(r.clearTimeout(),e?s(e):n())}))}})}getSystemConfig(e){return this.request({cacheKey:"systemConfig",forceUpdate:e,commandTimeout:!1,executor:async e=>{var t,o,n,s,r;let a=await this.getObject("system.config");null!==(t=a)&&void 0!==t||(a={}),null!==(o=(s=a).common)&&void 0!==o||(s.common={}),null!==(n=(r=a).native)&&void 0!==n||(r.native={}),e(a)}})}getCompactSystemConfig(e){return this.request({cacheKey:"systemConfigCommon",forceUpdate:e,commandTimeout:!1,requireAdmin:!0,executor:(e,t)=>{this._socket.emit("getCompactSystemConfig",((o,n)=>{var s,r,a,i,c;o?t(o):(null!==(s=n)&&void 0!==s||(n={}),null!==(r=(i=n).common)&&void 0!==r||(i.common={}),null!==(a=(c=n).native)&&void 0!==a||(c.native={}),e(n))}))}})}getForeignStates(e){return this.request({commandTimeout:!1,executor:(t,o)=>{this._socket.emit("getForeignStates",e||"*",((e,n)=>{e?o(e):t(null!==n&&void 0!==n?n:{})}))}})}getForeignObjects(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("getForeignObjects",e||"*",t,((e,t)=>{e?n(e):o(t)}))}})}setSystemConfig(e){return this.setObject("system.config",e)}getRawSocket(){return this._socket}getHistory(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("getHistory",e,t,((e,t)=>{e?n(e):o(t)}))}})}getHistoryEx(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("getHistory",e,t,((e,t,s,r)=>{e?n(e):o({values:t,sessionId:r,stepIgnore:s})}))}})}getIpAddresses(e,t){return e=(0,p.normalizeHostId)(e),this.request({cacheKey:"IPs_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{var o;const n=await this.getObject(e);t(null!==(o=null===n||void 0===n?void 0:n.common.address)&&void 0!==o?o:[])}})}getVersion(e){return this.request({cacheKey:"version",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getVersion",((o,n,s)=>{o&&!n&&"string"===typeof o&&o.match(/\d+\.\d+\.\d+/)?e({version:o,serverName:"socketio"}):o?t(o):e({version:n,serverName:s})}))}})}getWebServerName(){return this.request({cacheKey:"webName",commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getAdapterName",((o,n)=>{o?t(o):e(n)}))}})}fileExists(e,t){return this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("fileExists",e,t,((e,t)=>{e?n(e):o(!!t)}))}})}getCurrentUser(){return this.request({commandTimeout:!1,executor:e=>{this._socket.emit("authEnabled",((t,o)=>{e(o)}))}})}getUuid(){return this.request({cacheKey:"uuid",commandTimeout:!1,executor:async e=>{var t;const o=await this.getObject("system.meta.uuid");e(null===(t=null===o||void 0===o?void 0:o.native)||void 0===t?void 0:t.uuid)}})}checkFeatureSupported(e,t){return this.request({cacheKey:"supportedFeatures_".concat(e),forceUpdate:t,commandTimeout:!1,executor:(t,o)=>{this._socket.emit("checkFeatureSupported",e,((e,n)=>{e?o(e):t(n)}))}})}getAdapterInstances(e,t){return"boolean"===typeof e&&(t=e,e=""),e=e||"",this.request({cacheKey:"instances_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{const o=e?"system.adapter.".concat(e,"."):"system.adapter.",n="".concat(o,"\u9999"),s=await this.getObjectViewSystem("instance",o,n),r=Object.values(s);t(e?r.filter((t=>t.common.name===e)):r)}})}getAdapters(e,t){return"boolean"===typeof e&&(t=e,e=""),e=e||"",this.request({cacheKey:"adapter_".concat(e),forceUpdate:t,commandTimeout:!1,executor:async t=>{const o=await this.getObjectViewSystem("adapter","system.adapter.".concat(e||""),"system.adapter.".concat(e||"\u9999")),n=Object.values(o);t(e?n.filter((t=>t.common.name===e)):n)}})}getGroups(e){return this.request({cacheKey:"groups",forceUpdate:e,commandTimeout:!1,executor:(e,t)=>{this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},((o,n)=>{o?t(o):e((0,p.getObjectViewResultToArray)(n))}))}})}logout(){return this.request({commandTimeout:!1,executor:(e,t)=>{this._socket.emit("logout",(o=>{o?t(o):e(null)}))}})}subscribeOnInstance(e,t,o,n){return this.request({commandTimeout:!1,executor:(s,r)=>{this._socket.emit("clientSubscribe",e,t,o,((o,a)=>{o?r(o):a&&(a.error?r(a.error):(e.startsWith("system.adapter.")||(e="system.adapter.".concat(e)),this._instanceSubscriptions[e]=this._instanceSubscriptions[e]||[],this._instanceSubscriptions[e].find((e=>e.messageType===t&&e.callback===n))||this._instanceSubscriptions[e].push({messageType:t,callback:n}),s(a)))}))}})}unsubscribeFromInstance(e,t,o){var n;let s;e.startsWith("system.adapter.")||(e="system.adapter.".concat(e));const r=[];do{s=!1;const a=null===(n=this._instanceSubscriptions[e])||void 0===n?void 0:n.findIndex((e=>(!t||e.messageType===t)&&(!o||e.callback===o)));if(void 0!==a&&null!==a&&-1!==a){s=!0;const o=this._instanceSubscriptions[e][a].messageType;this._instanceSubscriptions[e].splice(a,1),this._instanceSubscriptions[e].length||delete this._instanceSubscriptions[e];this._instanceSubscriptions[e]&&this._instanceSubscriptions[e].find((e=>e.messageType===o))||r.push(this.request({commandTimeout:!1,executor:(o,n)=>{this._socket.emit("clientUnsubscribe",e,t,((e,t)=>e?n(e):o(t)))}}))}}while(s&&(!o||!t));return r.length?Promise.all(r).then((e=>!!e.find((e=>e)))):Promise.resolve(!1)}log(e,t){return e?this.request({commandTimeout:!1,executor:o=>(this._socket.emit("log",e,t),o(null))}):Promise.resolve(null)}setStateToIgnore(e){this.ignoreState=e}}},52974:e=>{var t,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty;e.exports=(t={},((e,t,a,i)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))r.call(e,c)||c===a||o(e,c,{get:()=>t[c],enumerable:!(i=n(t,c))||i.enumerable});return e})(o({},"__esModule",{value:!0}),t))},99072:e=>{var t,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a={};function i(){let e,t;const o=new Promise(((o,n)=>{e=o,t=n}));return o.resolve=e,o.reject=t,o}((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(a,{createDeferredPromise:()=>i}),e.exports=(t=a,((e,t,a,i)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))r.call(e,c)||c===a||o(e,c,{get:()=>t[c],enumerable:!(i=n(t,c))||i.enumerable});return e})(o({},"__esModule",{value:!0}),t))},71936:(e,t,o)=>{var n,s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,c=(e,t,o,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of a(t))i.call(e,c)||c===o||s(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e},l=(e,t,o)=>(c(e,t,"default"),o&&c(o,t,"default")),u={};((e,t)=>{for(var o in t)s(e,o,{get:t[o],enumerable:!0})})(u,{AdminConnection:()=>d.AdminConnection,Connection:()=>m.Connection,ERRORS:()=>m.ERRORS,PROGRESS:()=>m.PROGRESS}),e.exports=(n=u,c(s({},"__esModule",{value:!0}),n)),l(u,o(73171),e.exports);var d=o(73171);l(u,o(19594),e.exports);var m=o(19594);l(u,o(52974),e.exports);o(52974)},57995:e=>{var t,o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a={};function i(e){var t;return null!==(t=null===e||void 0===e?void 0:e.rows.map((e=>e.value)).filter((e=>!!e)))&&void 0!==t?t:[]}function c(e){return(null===e||void 0===e?void 0:e.startsWith("system.host."))||(e="system.host.".concat(e)),e}function l(e){return(null===e||void 0===e?void 0:e.startsWith("system.host."))&&(e=e.substr(12)),e}function u(e){return new Promise((t=>{setTimeout(t,e)}))}function d(e){const t="*"===(e=(e||"").toString())[0],o="*"===e[e.length-1];return(t?"":"^")+(e=e.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"))+(o?"":"$")}((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(a,{getObjectViewResultToArray:()=>i,normalizeHostId:()=>c,objectIdToHostname:()=>l,pattern2RegEx:()=>d,wait:()=>u}),e.exports=(t=a,((e,t,a,i)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))r.call(e,c)||c===a||o(e,c,{get:()=>t[c],enumerable:!(i=n(t,c))||i.enumerable});return e})(o({},"__esModule",{value:!0}),t))}}]);
//# sourceMappingURL=vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-6c96ca.f753a2ea.chunk.js.map